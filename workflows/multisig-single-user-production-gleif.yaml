workflow:
  steps:
    # Create clients for all agents
    gleif_internal_client_1:
      id: 'gleif_internal_client_1'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-1'
      description: 'Creating client for gleif-internal-agent-1'
    gleif_internal_client_2:
      id: 'gleif_internal_client_2'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-2'
      description: 'Creating client for gleif-internal-agent-2'
    gleif_internal_client_3:
      id: 'gleif_internal_client_3'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-3'
      description: 'Creating client for gleif-internal-agent-3'
    gleif_internal_client_4:
      id: 'gleif_internal_client_4'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-4'
      description: 'Creating client for gleif-internal-agent-4'
    gleif_internal_client_5:
      id: 'gleif_internal_client_5'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-5'
      description: 'Creating client for gleif-internal-agent-5'
    gleif_internal_client_6:
      id: 'gleif_internal_client_6'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-6'
      description: 'Creating client for gleif-internal-agent-6'
    gleif_internal_client_7:
      id: 'gleif_internal_client_7'
      type: 'create_client'
      agent_name: 'gleif-internal-agent-7'
      description: 'Creating client for gleif-internal-agent-7'
    gleif_external_client_1:
      id: 'gleif_external_client_1'
      type: 'create_client'
      agent_name: 'gleif-external-agent-1'
      description: 'Creating client for gleif-external-agent-1'
    gleif_external_client_2:
      id: 'gleif_external_client_2'
      type: 'create_client'
      agent_name: 'gleif-external-agent-2'
      description: 'Creating client for gleif-external-agent-2'
    gleif_external_client_3:
      id: 'gleif_external_client_3'
      type: 'create_client'
      agent_name: 'gleif-external-agent-3'
      description: 'Creating client for gleif-external-agent-3'
    gleif_external_client_4:
      id: 'gleif_external_client_4'
      type: 'create_client'
      agent_name: 'gleif-external-agent-4'
      description: 'Creating client for gleif-external-agent-4'
    gleif_external_client_5:
      id: 'gleif_external_client_5'
      type: 'create_client'
      agent_name: 'gleif-external-agent-5'
      description: 'Creating client for gleif-external-agent-5'
    qvi_client_1:
      id: 'qvi_client_1'
      type: 'create_client'
      agent_name: 'qvi-agent-1'
      description: 'Creating client for qvi-agent-1'
    qvi_client_2:
      id: 'qvi_client_2'
      type: 'create_client'
      agent_name: 'qvi-agent-2'
      description: 'Creating client for qvi-agent-2'
    qvi_client_3:
      id: 'qvi_client_3'
      type: 'create_client'
      agent_name: 'qvi-agent-3'
      description: 'Creating client for qvi-agent-3'
    le_client_1:
      id: 'le_client_1'
      type: 'create_client'
      agent_name: 'le-agent-1'
      description: 'Creating client for le-agent-1'
    le_client_2:
      id: 'le_client_2'
      type: 'create_client'
      agent_name: 'le-agent-2'
      description: 'Creating client for le-agent-2'
    le_client_3:
      id: 'le_client_3'
      type: 'create_client'
      agent_name: 'le-agent-3'
      description: 'Creating client for le-agent-3'
    ecr_client:
      id: 'ecr_client'
      type: 'create_client'
      agent_name: 'ecr-agent-1'
      description: 'Creating client for ecr-agent-1'

    # Create AIDs for GLEIF internal
    gleif_internal_aid_1:
      id: 'gleif_internal_aid_1'
      type: 'create_aid'
      aid: 'gleif-internal-aid-1'
      description: 'Creating AID: gleif-internal-aid-1'
    gleif_internal_aid_2:
      id: 'gleif_internal_aid_2'
      type: 'create_aid'
      aid: 'gleif-internal-aid-2'
      description: 'Creating AID: gleif-internal-aid-2'
    gleif_internal_aid_3:
      id: 'gleif_internal_aid_3'
      type: 'create_aid'
      aid: 'gleif-internal-aid-3'
      description: 'Creating AID: gleif-internal-aid-3'
    gleif_internal_aid_4:
      id: 'gleif_internal_aid_4'
      type: 'create_aid'
      aid: 'gleif-internal-aid-4'
      description: 'Creating AID: gleif-internal-aid-4'
    gleif_internal_aid_5:
      id: 'gleif_internal_aid_5'
      type: 'create_aid'
      aid: 'gleif-internal-aid-5'
      description: 'Creating AID: gleif-internal-aid-5'
    gleif_internal_aid_6:
      id: 'gleif_internal_aid_6'
      type: 'create_aid'
      aid: 'gleif-internal-aid-6'
      description: 'Creating AID: gleif-internal-aid-6'
    gleif_internal_aid_7:
      id: 'gleif_internal_aid_7'
      type: 'create_aid'
      aid: 'gleif-internal-aid-7'
      description: 'Creating AID: gleif-internal-aid-7'
    gleif_internal_multisig_1:
      id: 'gleif_internal_multisig_1'
      type: 'create_aid'
      aid: 'gleif-internal-multisig-1'
      description: 'Creating AID: gleif-internal-multisig-1'

    # Create AIDs for GLEIF external
    gleif_external_aid_1:
      id: 'gleif_external_aid_1'
      type: 'create_aid'
      aid: 'gleif-external-aid-1'
      description: 'Creating AID: gleif-external-aid-1'
    gleif_external_aid_2:
      id: 'gleif_external_aid_2'
      type: 'create_aid'
      aid: 'gleif-external-aid-2'
      description: 'Creating AID: gleif-external-aid-2'
    gleif_external_aid_3:
      id: 'gleif_external_aid_3'
      type: 'create_aid'
      aid: 'gleif-external-aid-3'
      description: 'Creating AID: gleif-external-aid-3'
    gleif_external_aid_4:
      id: 'gleif_external_aid_4'
      type: 'create_aid'
      aid: 'gleif-external-aid-4'
      description: 'Creating AID: gleif-external-aid-4'
    gleif_external_aid_5:
      id: 'gleif_external_aid_5'
      type: 'create_aid'
      aid: 'gleif-external-aid-5'
      description: 'Creating AID: gleif-external-aid-5'
    gleif_external_multisig_1:
      id: 'gleif_external_multisig_1'
      type: 'create_aid'
      aid: 'gleif-external-multisig-1'
      description: 'Creating AID: gleif-external-multisig-1'

    # Create AIDs for QVI
    qvi_aid_1:
      id: 'qvi_aid_1'
      type: 'create_aid'
      aid: 'qvi-aid-1'
      description: 'Creating AID: qvi-aid-1'
    qvi_aid_2:
      id: 'qvi_aid_2'
      type: 'create_aid'
      aid: 'qvi-aid-2'
      description: 'Creating AID: qvi-aid-2'
    qvi_aid_3:
      id: 'qvi_aid_3'
      type: 'create_aid'
      aid: 'qvi-aid-3'
      description: 'Creating AID: qvi-aid-3'
    qvi_multisig_1:
      id: 'qvi_multisig_1'
      type: 'create_aid'
      aid: 'qvi-multisig-1'
      description: 'Creating AID: qvi-multisig-1'

    # Create AIDs for LE
    le_aid_1:
      id: 'le_aid_1'
      type: 'create_aid'
      aid: 'le-aid-1'
      description: 'Creating AID: le-aid-1'
    le_aid_2:
      id: 'le_aid_2'
      type: 'create_aid'
      aid: 'le-aid-2'
      description: 'Creating AID: le-aid-2'
    le_aid_3:
      id: 'le_aid_3'
      type: 'create_aid'
      aid: 'le-aid-3'
      description: 'Creating AID: le-aid-3'
    le_multisig_1:
      id: 'le_multisig_1'
      type: 'create_aid'
      aid: 'le-multisig-1'
      description: 'Creating AID: le-multisig-1'

    # Create AID for ECR
    ecr_aid:
      id: 'ecr_aid'
      type: 'create_aid'
      aid: 'ecr-aid-1'
      description: 'Creating AID: ecr-aid-1'

    # Create registries for GLEIF internal
    gleif_internal_registry_1:
      id: 'gleif_internal_registry_1'
      type: 'create_registry'
      aid: 'gleif-internal-aid-1'
      description: 'Creating registry for gleif-internal-aid-1'
    gleif_internal_registry_2:
      id: 'gleif_internal_registry_2'
      type: 'create_registry'
      aid: 'gleif-internal-aid-2'
      description: 'Creating registry for gleif-internal-aid-2'
    gleif_internal_registry_3:
      id: 'gleif_internal_registry_3'
      type: 'create_registry'
      aid: 'gleif-internal-aid-3'
      description: 'Creating registry for gleif-internal-aid-3'
    gleif_internal_registry_4:
      id: 'gleif_internal_registry_4'
      type: 'create_registry'
      aid: 'gleif-internal-aid-4'
      description: 'Creating registry for gleif-internal-aid-4'
    gleif_internal_registry_5:
      id: 'gleif_internal_registry_5'
      type: 'create_registry'
      aid: 'gleif-internal-aid-5'
      description: 'Creating registry for gleif-internal-aid-5'
    gleif_internal_registry_6:
      id: 'gleif_internal_registry_6'
      type: 'create_registry'
      aid: 'gleif-internal-aid-6'
      description: 'Creating registry for gleif-internal-aid-6'
    gleif_internal_registry_7:
      id: 'gleif_internal_registry_7'
      type: 'create_registry'
      aid: 'gleif-internal-aid-7'
      description: 'Creating registry for gleif-internal-aid-7'
    gleif_internal_registry_multisig_1:
      id: 'gleif_internal_registry_multisig_1'
      type: 'create_registry'
      aid: 'gleif-internal-multisig-1'
      description: 'Creating registry for gleif-internal-multisig-1'

    # Create registries for GLEIF external
    gleif_external_registry_1:
      id: 'gleif_external_registry_1'
      type: 'create_registry'
      aid: 'gleif-external-aid-1'
      description: 'Creating registry for gleif-external-aid-1'
    gleif_external_registry_2:
      id: 'gleif_external_registry_2'
      type: 'create_registry'
      aid: 'gleif-external-aid-2'
      description: 'Creating registry for gleif-external-aid-2'
    gleif_external_registry_3:
      id: 'gleif_external_registry_3'
      type: 'create_registry'
      aid: 'gleif-external-aid-3'
      description: 'Creating registry for gleif-external-aid-3'
    gleif_external_registry_4:
      id: 'gleif_external_registry_4'
      type: 'create_registry'
      aid: 'gleif-external-aid-4'
      description: 'Creating registry for gleif-external-aid-4'
    gleif_external_registry_5:
      id: 'gleif_external_registry_5'
      type: 'create_registry'
      aid: 'gleif-external-aid-5'
      description: 'Creating registry for gleif-external-aid-5'
    gleif_external_registry_multisig_1:
      id: 'gleif_external_registry_multisig_1'
      type: 'create_registry'
      aid: 'gleif-external-multisig-1'
      description: 'Creating registry for gleif-external-multisig-1'

    # Create registries for QVI
    qvi_registry_1:
      id: 'qvi_registry_1'
      type: 'create_registry'
      aid: 'qvi-aid-1'
      description: 'Creating registry for qvi-aid-1'
    qvi_registry_2:
      id: 'qvi_registry_2'
      type: 'create_registry'
      aid: 'qvi-aid-2'
      description: 'Creating registry for qvi-aid-2'
    qvi_registry_3:
      id: 'qvi_registry_3'
      type: 'create_registry'
      aid: 'qvi-aid-3'
      description: 'Creating registry for qvi-aid-3'
    qvi_registry_multisig_1:
      id: 'qvi_registry_multisig_1'
      type: 'create_registry'
      aid: 'qvi-multisig-1'
      description: 'Creating registry for qvi-multisig-1'

    # Create registries for LE
    le_registry_1:
      id: 'le_registry_1'
      type: 'create_registry'
      aid: 'le-aid-1'
      description: 'Creating registry for le-aid-1'
    le_registry_2:
      id: 'le_registry_2'
      type: 'create_registry'
      aid: 'le-aid-2'
      description: 'Creating registry for le-aid-2'
    le_registry_3:
      id: 'le_registry_3'
      type: 'create_registry'
      aid: 'le-aid-3'
      description: 'Creating registry for le-aid-3'
    le_registry_multisig_1:
      id: 'le_registry_multisig_1'
      type: 'create_registry'
      aid: 'le-multisig-1'
      description: 'Creating registry for le-multisig-1'

    # Create registry for ECR
    ecr_registry:
      id: 'ecr_registry'
      type: 'create_registry'
      aid: 'ecr-aid-1'
      description: 'Creating registry for ecr-aid-1'

    # Issue credentials
    qvi_cred:
      id: 'qvi_cred'
      type: 'issue_credential'
      attributes:
        LEI: '254900OPPU84GM83MG36'
      issuer_aid: 'gleif-external-multisig-1'
      issuee_aid: 'qvi-multisig-1'
      description: 'GLEIF External issues QVI vLEI credential'
      credential: 'gleif_to_qvi_vlei_cred'
    le_cred:
      id: 'le_cred'
      type: 'issue_credential'
      attributes:
        LEI: '875500ELOZEL05BVXV37'
      issuer_aid: 'qvi-multisig-1'
      issuee_aid: 'le-multisig-1'
      description: 'QVI issues LE vLEI credential'
      credential: 'qvi_to_le_vlei_cred'
      credential_source: 'qvi_cred'
    ecr_cred:
      id: 'ecr_cred'
      type: 'issue_credential'
      attributes:
        personLegalName: 'John Doe'
        LEI: '875500ELOZEL05BVXV37'
      issuer_aid: 'le-multisig-1'
      issuee_aid: 'ecr-aid-1'
      description: 'LE issues ECR vLEI credential'
      credential: 'le_to_ecr_vlei_cred'
      credential_source: 'le_cred'

    # Add root of trust
    add_root_of_trust:
      id: 'add_root_of_trust'
      type: 'add_root_of_trust'
      rot_aid: 'gleif-internal-multisig-1'
      rot_member_aid: 'gleif-internal-aid-1'
      description: 'Adding Root of Trust'

    # Verify credentials
    credential_verification_valid_verified:
      id: 'credential_verification_valid_verified'
      type: 'vlei_verification'
      description: 'Running Vlei Verification'
      actions:
        present_credential:
          credential: 'ecr_cred'
          type: 'credential_presentation'
          expected_status: 'cred_crypt_valid'
        authorize_credential:
          aid: 'ecr-aid-1'
          type: 'credential_authorization'
          expected_status: 'cred_verified' 